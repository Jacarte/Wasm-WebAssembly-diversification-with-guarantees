
\lstdefinestyle{watcode}{
  numbers=none,
  stepnumber=1,
  numbersep=10pt,
  tabsize=4,
  showspaces=false,
  breaklines=true, 
  showstringspaces=false,
    moredelim=**[is][{\btHL[fill=weborange!40]}]{`}{`},
    moredelim=**[is][{\btHL[fill=celadon!40]}]{!}{!}
}
   \begin{minipage}[t]{0.45\linewidth}
    \lstset{
        language=WAT,
                        style=watcode,
        basicstyle=\footnotesize\ttfamily,
                        columns=fullflexible,
                        breaklines=true}
        
        \begin{lstlisting}[label=example:state1,caption={Program P.},frame=b, captionpos=b]{state1}
func (;0;) (type 0) (param i32 f32) (result i64)
    i64.const 1
        \end{lstlisting}
\end{minipage}\hfill
\begin{minipage}[t]{0.45\linewidth}
    \lstset{
        language=WAT,
                        style=watcode,
        basicstyle=\footnotesize\ttfamily,
                        columns=fullflexible,
                        breaklines=true}
        
        \begin{lstlisting}[label=example:state2,caption={Program $P'$, transformation of program $P$.},frame=b, captionpos=b]{state2}
func (;0;) (type 0) (param i32 f32) (result i64)
    i64.const 1
    !i32.const 42!
    !i32.drop!
        \end{lstlisting}
\end{minipage}
